#                 labels = c('No', 'Yes'), name = '')+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = df_drugs$X2021..YR2021.))+
geom_sf()+
scale_fill_gradientn(name = 'K/year', colours = rev(brewer.pal(9, 'RdBu')), na.value = NA, limits = c(-0.1, 0.1))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
library(RColorBrewer)
ggplot(data = df_drugs$geometry, aes(fill = df_drugs$X2021..YR2021.))+
geom_sf()+
scale_fill_gradientn(name = 'K/year', colours = rev(brewer.pal(9, 'RdBu')), na.value = NA, limits = c(-0.1, 0.1))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = df_drugs$X2021..YR2021.))+
geom_sf()+
scale_color_binned(name = 'K/year', colours = rev(brewer.pal(9, 'RdBu')), na.value = NA, limits = c(-0.1, 0.1))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = df_drugs$X2021..YR2021.))+
geom_sf()+
scale_colour_steps(
low = "#132B43",
high = "#56B1F7",
space = "Lab",
na.value = "grey50",
guide = "coloursteps",
aesthetics = "colour")+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
df_drugs$X2003..YR2003.
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_colour_steps(
low = "#132B43",
high = "#56B1F7",
space = "Lab",
na.value = "grey50",
guide = "coloursteps",
aesthetics = "colour")+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_colour_steps(name = 'Percentage',
low = "#132B43",
high = "#56B1F7",
space = "Lab",
na.value = "grey50",
guide = "coloursteps",
aesthetics = "colour")+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'K/year', colours = rev(brewer.pal(9, 'RdBu')), na.value = NA, limits = c(-0.1, 0.1))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'K/year', colours = rev(brewer.pal(9, 'Blues')), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'K/year', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y, subtitle = 'Acess to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
y_str
ggplot(data = df_drugs$geometry, aes(fill = as.integer(df_drugs$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
merged_df
merged_df$Series.Name
# Males
df_drugs <- df[df$Series.Code == "SH.HIV.ARTC.MA.ZS",]
# Males
df_drugs_male <- df[df$Series.Code == "SH.HIV.ARTC.MA.ZS",]
df_drugs_fem <- df[df$Series.Code == "SH.HIV.ARTC.FE.ZS",]
df_drugs_fem$Country.Name[!df_drugs_fem$Country.Name %in% africa$NAME_LONG] <-
c("eSwatini", "Democratic Republic of the Congo", "Republic of the Congo", "Egypt", "The Gambia", "Côte d'Ivoire", "São Tomé and Principe")
merged_df_fem <- merge(africa, df_drugs_fem, by.x = "NAME_LONG", by.y = "Country.Name")
df_drugs_fem <- merged_df_fem[c(1, 18:length(merged_df_fem))]
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
df_drugs_male <- df[df$Series.Code == "SH.HIV.ARTC.MA.ZS",]
df_drugs_male$Country.Name[!df_drugs_male$Country.Name %in% africa$NAME_LONG] <-
c("eSwatini", "Democratic Republic of the Congo", "Republic of the Congo", "Egypt", "The Gambia", "Côte d'Ivoire", "São Tomé and Principe")
merged_df_male <- merge(africa, df_drugs_male, by.x = "NAME_LONG", by.y = "Country.Name")
df_drugs_male <- merged_df[c(1, 18:length(merged_df_male))]
ggplot(data = df_drugs_male$geometry, aes(fill = as.integer(df_drugs_male$X2021..YR2021.)))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
df_drugs_male$X2021..YR2021.
df_drugs_fem$X2021..YR2021.
for (y in 2:length(sel_df)-1){
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
}
for (y in 2:length(sel_df)-1){
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
}
for (y in 2:length(sel_df)-1){
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))
assign(var, plt)
}
gg_2021
gg_2004
colnames(sel_df)
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
df_drugs_fem[[col_n]]
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
for (y in 2:length(sel_df)-1){
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
gg_2003
gg_2021
View(df_drugs_fem)
y = 3
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
col_n
df_drugs_fem[[col_n]]
library(sf)
library(ggplot2)
library(RColorBrewer)
setwd("~/Eagle/Intro_to_Programming/ggplot/Data/")
df <- read.csv(file = "P_Data_Extract_From_Gender_Statistics/5fec3b22-d19c-446c-bcf6-b4106e7ee00d_Data.csv")
africa_shp <- "Africa_countries.gpkg"
africa <- sf::st_read(africa_shp)
df_drugs_fem <- df[df$Series.Code == "SH.HIV.ARTC.FE.ZS",]
df_drugs_fem$Country.Name[!df_drugs_fem$Country.Name %in% africa$NAME_LONG] <-
c("eSwatini", "Democratic Republic of the Congo", "Republic of the Congo", "Egypt", "The Gambia", "Côte d'Ivoire", "São Tomé and Principe")
merged_df_fem <- merge(africa, df_drugs_fem, by.x = "NAME_LONG", by.y = "Country.Name")
df_drugs_fem <- merged_df_fem[c(1, 18:length(merged_df_fem))]
for (y in 2:length(sel_df)-1){
#y = 3
y_str <- gsub("X", "", strsplit(colnames(sel_df)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
colnames(df_drugs_fem)
for (y in 2:length(sel_df)-1){
#y = 3
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
for (y in 2:length(df_drugs_fem)-1){
#y = 3
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
gg_2003
gg_2003
for (y in 2:length(df_drugs_fem)-1){
y
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
paste(y)
for (y in 2:length(df_drugs_fem)-1){
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
length(df_drugs_fem)
for (y in 2:20){
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
gg_2003
View(gg_2003)
df_drugs_fem[[col_n]]
for (y in c(2:20)){
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[col_n]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
gg_2003
gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
df_drugs_fem[[2]]
for (y in c(2:20)){
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
assign(var, plt)
}
gg_2003
y=3
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[col_n]]))
y_str
ggplot(data = df_drugs_fem, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[y]]))
df_drugs_fem[[y]]
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[y]]))
gg_2003
gg_2005
for (y in c(2:20)){
#y=3
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
#col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[y]]))
assign(var, plt)
}
gg_2003
gg_2004
y=6
paste(y)
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
#col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[y]]))
for (y in c(2:20)){
y_str <- gsub("X", "", strsplit(colnames(df_drugs_fem)[y], ".", fixed = T)[[1]][1])
#col_n <- paste0("X", y_str, "..YR", y_str, ".")
var <- paste0('gg_', y_str)
plt <- ggplot(data = df_drugs_fem$geometry, aes(fill = as.integer(df_drugs_fem[[y]])))+
geom_sf()+
scale_fill_gradientn(name = 'Precent', colours = brewer.pal(9, 'Blues'), na.value = NA, limits = c(0,100))+
xlab("Longitude")+
ylab("Latitude")+
ggtitle(y_str, subtitle = 'Access to drugs by Females')+
theme(panel.grid.major = element_line(color = gray(.5), linetype = "dashed",
linewidth = 0.5), panel.background = element_rect(fill = "white"),
legend.position = "right", legend.key.width = unit(0.1, "inches"))+
geom_sf_label(aes(label = df_drugs_fem[[y]]))
assign(var, plt)
}
gg_2003
getwd()
setwd("C:/Users/laura/Documents/Eagle/Intro_to_Programming/ggplot")
